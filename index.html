<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>T1 → Mini-Rack MMC Mapper</title>
  <link rel="stylesheet" href="styles.css">
</head>
  <button id="theme-switch" aria-label="Toggle theme" title="Toggle theme">
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Z"/></svg>
    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"><path d="M480-280q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Z"/></svg>
  </button>
  <div class="bgAnim" aria-hidden="true">
    <span class="blob b1"></span>
    <span class="blob b2"></span>
    <span class="blob b3"></span>
  </div>
  <div class="app">
    <div class="card">
      <h1 class="mainHeading">T1-T2 Mapper</h1>
      <p class="sub">Enter a T1 device (e.g., <code>sbn100-104-es-m1-p5-t1-r89</code>) and JRP/Port-Channel (e.g., <code>30-1</code> or just <code>30</code> for channel 1). The tool maps to the Mini‑Rack MMC and spares, computes T2 uplink details, and shows NDF RU (Rack Units: RU45, RU44, RU43, RU41, RU39, RU37, RU28, RU26, RU24, RU22, RU20, RU18, RU16) and active cable range for Racks 1–42, 51, 61–85, 86–96, 99–100, 101–102, 106–107, 111–112, and 114 of T1. Use Reverse Lookup for MMC → T1, and the mini‑diagram to jump between MMCs.</p>

      <div class="grid">
        <div class="field">
          <label for="dev">Device name</label>
          <input id="dev" type="text" placeholder="sbn100-104-es-m1-p5-t1-r89">
          <div class="fErr" id="errDev"></div>
          <div class="muted">Need a quick sample? <button type="button" id="autoExample" class="linkbtn">Example</button></div>
        </div>
        <div class="field">
          <label for="jrp">JRP / Port (17–32)</label>
          <input id="jrp" type="text" placeholder="30-1 (channel defaults to 1 if omitted)">
          <div class="fErr" id="errJrp"></div>
          <div class="muted">Format: JRP-Channel (e.g., 30-1 or just 30 for channel 1)</div>
        </div>
      </div>

      <div class="actions">
        <button id="calc">Find Connection</button>
        <button class="secondary" id="reset">Reset</button>
        <button class="secondary" id="copy">Copy Result</button>
        <button class="secondary" id="toggleReverse">Reverse Lookup (MMC → T1)</button>
      </div>

      <div id="error" class="err" style="display:none;"></div>

      <div id="out" class="result" style="display:none;">
        <div class="row">
          <div class="kv"><b>Device</b><span id="oDev"></span></div>
          <div class="kv"><b>Switch (p#)</b><span id="oSwitch"></span></div>
          <div class="kv"><b>Rack (r#)</b><span id="oRack"></span></div>
          <div class="kv"><b>JRP / Port</b><span id="oPort"></span></div>
        </div>
        <div class="row">
          <div class="kv"><b>Mini-Rack MMC</b><span id="oMMC"></span></div>
          <div class="kv"><b>Spare 1</b><span id="oSp1"></span></div>
          <div class="kv"><b>Spare 2</b><span id="oSp2"></span></div>
          <div class="kv"><b>Notes</b><span id="oNotes"></span></div>
        </div>
        <div class="muted" id="more" style="display:none;"></div>
        <div id="mmcViz" class="diagram" aria-hidden="false" style="display:block;">
          <div class="legend">
            <span class="key"><span class="swatch active"></span> Active MMC</span>
            <span class="key"><span class="swatch mmc"></span> MMCs (1–16)</span>
            <span class="key"><span class="swatch spare"></span> Spares (17–18)</span>
          </div>
          <div id="mmcDiagram" class="slots"></div>
        </div>
      </div>

      <div class="footer" id="logicPanel" style="display:none;">
        <div><b>Logic</b>:</div>
        <div>Let <code>P</code> be switch number parsed from <code>-p#-</code>, <code>j</code> be JRP (17..32).</div>
        <div>Pair index: <code>k = floor((P − 1) / 2)</code></div>
        <div>Block start: <code>block_start = 18×k + 1</code></div>
        <div>Offset: <code>0</code> if P odd, <code>8</code> if P even</div>
        <div>Pair index in switch: <code>i = floor((j − 17)/2)</code></div>
        <div>MMC: <code>MMC = block_start + offset + i</code></div>
        <div>Spares: <code>Spare1 = 18×k + 17</code>, <code>Spare2 = 18×k + 18</code></div>
        <div class="muted" id="logicComputed"></div>
      </div>

      <div id="reversePanel" class="card" style="margin-top:16px; display:none;">
        <h1>Mini-Rack MMC → T1 Switch Mapper</h1>
        <p class="sub">Enter an <b>MMC number (1–144)</b> to find the corresponding <b>T1 switch</b> and <b>JRP ports</b>.</p>

        <div class="grid">
          <div class="field">
            <label for="mmcInput">MMC Number</label>
            <input id="mmcInput" type="number" min="1" max="144" placeholder="e.g. 78">
          </div>
        </div>

        <div class="actions">
          <button id="findMMC">Find T1 Mapping</button>
          <button class="secondary" id="resetMMC">Reset</button>
        </div>

        <div id="errorMMC" class="err" style="display:none;"></div>

        <div id="outMMC" class="result" style="display:none;">
          <div class="row">
            <div class="kv"><b>MMC</b><span id="rMMC"></span></div>
            <div class="kv"><b>Switch (P#)</b><span id="rSwitch"></span></div>
            <div class="kv"><b>JRP Ports</b><span id="rPorts"></span></div>
          </div>
          <div class="muted" id="rMore"></div>
        </div>
      </div>
      
      <div id="ndfT2Panel" class="card" style="margin-top:16px;">
        <div class="tabContainer">
          <div class="tabHeader">
            <button class="tabBtn ndf active" id="tabNDF" data-tab="ndf">NDF</button>
            <span class="tabSeparator">|</span>
            <button class="tabBtn t2" id="tabT2" data-tab="t2">T2</button>
          </div>
          <div class="tabContent">
            <div id="ndfTab" class="tabPane active glassMorphism">
        <div class="flowBar"><span>T1</span><span class="sep">➜</span><span>Mini‑Rack</span><span class="sep">➜</span><span>NDF</span><span class="sep">➜</span><span>T2</span></div>
        <div id="outNDF" class="ndfHero" style="display:none;">
          <div class="ndfTitle" id="ndfTitle">NDF</div>
          <div class="row" style="margin-top:6px;">
            <div class="kv ndfEmph"><b>Rack Unit</b><span class="ndfVal" id="ndfRU"></span></div>
            <div class="kv ndfEmph"><b>MMC</b><span class="ndfVal" id="ndfMMC"></span></div>
            <div class="kv"><b>Cable</b><span class="ndfVal" id="ndfCable"></span></div>
            <div class="kv"><b>Active Range</b><span class="ndfVal" id="ndfRange"></span></div>
          </div>
          <div class="actions" style="margin-top:12px;">
            <button class="secondary" id="copyNDF">Copy NDF details</button>
          </div>
          <div class="sub" id="ndfNote"></div>
        </div>
              <div id="ndfChannelSummary" style="margin-top: 15px; border-top: 1px solid #e6e8f0; padding-top: 15px; display: none;">
                <div class="ndfTitle" style="color: #6b7280; font-size: 14px; margin-bottom: 8px;">
                  4-Channel Port Connections (T2 JRP <span id="ndfT2JrpNum"></span>)
                </div>
                <div id="ndfSummaryList" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 8px;">
        </div>
      </div>
              <div id="flowDiagramContainer" class="flowDiagram" style="display: none; margin-top: 20px;">
                <div class="flowDiagramTitle" style="font-size: 14px; font-weight: 700; color: #6b7280; margin-bottom: 12px;">Data Flow Path</div>
                <svg id="dataFlowDiagram" viewBox="0 0 950 760" xmlns="http://www.w3.org/2000/svg">
                  <!-- Associated T1 Racks (4 racks sharing same MMC) -->
                  <g id="associatedT1Racks">
                    <text x="50" y="30" text-anchor="middle" class="flowLabel" font-size="12" font-weight="700" fill="#9ca3af">Associated T1 Racks</text>
                    <g class="flowNode" id="t1Rack1">
                      <rect x="10" y="50" width="70" height="40" rx="4" class="flowRack"/>
                      <text x="45" y="65" text-anchor="middle" class="flowLabel" id="t1R1Label" font-size="9" font-weight="600">P-R · JRP</text>
                      <text x="45" y="80" text-anchor="middle" class="flowLabel" id="t1R1Jrp" font-size="8" fill="#9ca3af"></text>
                    </g>
                    <g class="flowNode" id="t1Rack2">
                      <rect x="10" y="95" width="70" height="40" rx="4" class="flowRack"/>
                      <text x="45" y="110" text-anchor="middle" class="flowLabel" id="t1R2Label" font-size="9" font-weight="600">P-R · JRP</text>
                      <text x="45" y="125" text-anchor="middle" class="flowLabel" id="t1R2Jrp" font-size="8" fill="#9ca3af"></text>
                    </g>
                    <g class="flowNode" id="t1Rack3">
                      <rect x="10" y="140" width="70" height="40" rx="4" class="flowRack"/>
                      <text x="45" y="155" text-anchor="middle" class="flowLabel" id="t1R3Label" font-size="9" font-weight="600">P-R · JRP</text>
                      <text x="45" y="170" text-anchor="middle" class="flowLabel" id="t1R3Jrp" font-size="8" fill="#9ca3af"></text>
                    </g>
                    <g class="flowNode" id="t1Rack4">
                      <rect x="10" y="185" width="70" height="40" rx="4" class="flowRack"/>
                      <text x="45" y="200" text-anchor="middle" class="flowLabel" id="t1R4Label" font-size="9" font-weight="600">P-R · JRP</text>
                      <text x="45" y="215" text-anchor="middle" class="flowLabel" id="t1R4Jrp" font-size="8" fill="#9ca3af"></text>
                    </g>
                  </g>
                  
                  <!-- Arrows from T1 racks (may be 1 or 2 depending on JRP pair) -->
                  <g id="t1ToMiniArrows">
                    <path id="t1Arrow1" class="flowPath inactive" d="M 80 67 L 180 120" marker-end="url(#arrowhead)"/>
                    <path id="t1Arrow2" class="flowPath inactive" d="M 80 112 L 180 120" marker-end="url(#arrowhead)"/>
                    <path id="t1Arrow3" class="flowPath inactive" d="M 80 157 L 180 120" marker-end="url(#arrowhead)"/>
                    <path id="t1Arrow4" class="flowPath inactive" d="M 80 202 L 180 120" marker-end="url(#arrowhead)"/>
                  </g>
                  
                  <!-- Arrow marker definitions (multiple colors) -->
                  <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                      <polygon points="0 0, 10 3, 0 6" fill="#3b82f6"/>
                    </marker>
                    <marker id="arrowhead1" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                      <polygon points="0 0, 10 3, 0 6" fill="#3b82f6"/>
                    </marker>
                    <marker id="arrowhead2" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                      <polygon points="0 0, 10 3, 0 6" fill="#ea580c"/>
                    </marker>
                    <marker id="arrowhead3" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
                      <polygon points="0 0, 10 3, 0 6" fill="#22c55e"/>
                    </marker>
            <marker id="arrowhead4" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
              <polygon points="0 0, 10 3, 0 6" fill="#78350f"/>
            </marker>
            <marker id="arrowhead5" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
              <polygon points="0 0, 10 3, 0 6" fill="#9ca3af"/>
            </marker>
            <marker id="arrowhead6" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
              <polygon points="0 0, 10 3, 0 6" fill="#ffffff"/>
            </marker>
            <marker id="arrowhead7" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
              <polygon points="0 0, 10 3, 0 6" fill="#dc2626"/>
            </marker>
            <marker id="arrowhead8" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
              <polygon points="0 0, 10 3, 0 6" fill="#000000"/>
            </marker>
          </defs>
                  
                  <!-- Mini-Rack MMC (merged from T1 JRPs) -->
                  <g class="flowNode" id="miniRackNode">
                    <rect x="180" y="100" width="80" height="45" rx="4" class="flowRack" id="miniRackRect"/>
                    <text x="220" y="95" text-anchor="middle" class="flowLabel" font-size="13" font-weight="700">Mini-Rack</text>
                    <text x="220" y="115" text-anchor="middle" class="flowLabel" font-size="10" font-weight="600">MMC</text>
                    <text x="220" y="130" text-anchor="middle" class="flowLabel" id="mmcLabel" font-size="11" font-weight="700">MMC</text>
                    <circle cx="260" cy="120" r="4" fill="#f59e0b" id="miniRackPort"/>
                  </g>
                  
                  <!-- Trunk Cable to NDF -->
                  <path id="trunkPath" class="flowCable inactive" d="M 260 120 Q 340 100 400 80 Q 440 80 470 80" stroke-dasharray="6 3"/>
                  
                  <!-- NDF with 4 cables -->
                  <g class="flowNode" id="ndfNode">
                    <rect x="470" y="50" width="100" height="70" rx="4" class="flowRack" id="ndfRect"/>
                    <text x="520" y="40" text-anchor="middle" class="flowLabel" font-size="13" font-weight="700">NDF (4 MMC * 8MPO)</text>
                    <text x="520" y="60" text-anchor="middle" class="flowLabel" font-size="10" font-weight="600">RU · MMC</text>
                    <text x="520" y="78" text-anchor="middle" class="flowLabel" id="ndfLabel" font-size="11" font-weight="700">RU · MMC</text>
                    <text x="520" y="95" text-anchor="middle" class="flowLabel" id="ndfCableLabel" font-size="9" font-weight="600" fill="#9ca3af">cable</text>
                    
                    <!-- 4 input cables from trunk -->
                    <circle cx="470" cy="70" r="4" fill="#10b981"/>
                    <circle cx="470" cy="80" r="4" fill="#10b981"/>
                    <circle cx="470" cy="90" r="4" fill="#10b981"/>
                    <circle cx="470" cy="100" r="4" fill="#10b981"/>
                    
                    <!-- 4 output cables to T2 -->
                    <circle cx="570" cy="70" r="4" fill="#3b82f6"/>
                    <circle cx="570" cy="80" r="4" fill="#3b82f6"/>
                    <circle cx="570" cy="90" r="4" fill="#3b82f6"/>
                    <circle cx="570" cy="100" r="4" fill="#3b82f6"/>
                  </g>
                  
                  <!-- Mesh Shuffle (8 dotted paths from NDF to T2) -->
                  <g id="ndfToT2Paths">
                    <path id="ndfToT2Path1" class="flowPath active" d="M 570 80 Q 660 70 750 80" marker-end="url(#arrowhead)" stroke-dasharray="6 3" stroke="#9ca3af" opacity="0.8"/>
                    <path id="ndfToT2Path2" class="flowPath active" d="M 570 85 Q 660 140 750 170" marker-end="url(#arrowhead)" stroke-dasharray="6 3" stroke="#9ca3af" opacity="0.8"/>
                    <path id="ndfToT2Path3" class="flowPath active" d="M 570 90 Q 660 210 750 260" marker-end="url(#arrowhead)" stroke-dasharray="6 3" stroke="#9ca3af" opacity="0.8"/>
                    <path id="ndfToT2Path4" class="flowPath active" d="M 570 95 Q 660 280 750 350" marker-end="url(#arrowhead)" stroke-dasharray="6 3" stroke="#9ca3af" opacity="0.8"/>
                    <path id="ndfToT2Path5" class="flowPath active" d="M 570 100 Q 660 350 750 440" marker-end="url(#arrowhead)" stroke-dasharray="6 3" stroke="#9ca3af" opacity="0.8"/>
                    <path id="ndfToT2Path6" class="flowPath active" d="M 570 105 Q 660 420 750 530" marker-end="url(#arrowhead)" stroke-dasharray="6 3" stroke="#9ca3af" opacity="0.8"/>
                    <path id="ndfToT2Path7" class="flowPath active" d="M 570 110 Q 660 490 750 620" marker-end="url(#arrowhead)" stroke-dasharray="6 3" stroke="#9ca3af" opacity="0.8"/>
                    <path id="ndfToT2Path8" class="flowPath active" d="M 570 115 Q 660 560 750 710" marker-end="url(#arrowhead)" stroke-dasharray="6 3" stroke="#9ca3af" opacity="0.8"/>
                  </g>
                  
                  <!-- Associated T2 Channels (8 channels - Vertical Stack) -->
                  <g id="associatedT2Channels">
                    <text x="810" y="30" text-anchor="middle" class="flowLabel" font-size="12" font-weight="700" fill="#9ca3af">T2 Channels (T1 JRP-Channel Mapping)</text>
                    
                    <g class="flowNode" id="t2Channel1">
                      <rect x="750" y="40" width="140" height="80" rx="10" class="flowRack" id="t2Rect1"/>
                      <text x="758" y="65" text-anchor="start" class="flowLabel" id="t2Ch1Label" font-size="12" font-weight="700" fill="white">P#-T2-R#</text>
                      <text x="758" y="85" text-anchor="start" class="flowLabel" id="t2Ch1Jrp" font-size="11" font-weight="600" fill="white">JRP #-#</text>
                      <text x="882" y="68" text-anchor="end" class="flowLabel" id="t2Ch1T1Info" font-size="9" fill="white" font-weight="700" opacity="0.8">T1:--</text>
                    </g>
                    <g class="flowNode" id="t2Channel2">
                      <rect x="750" y="130" width="140" height="80" rx="10" class="flowRack" id="t2Rect2"/>
                      <text x="758" y="155" text-anchor="start" class="flowLabel" id="t2Ch2Label" font-size="12" font-weight="700" fill="white">P#-T2-R#</text>
                      <text x="758" y="175" text-anchor="start" class="flowLabel" id="t2Ch2Jrp" font-size="11" font-weight="600" fill="white">JRP #-#</text>
                      <text x="882" y="158" text-anchor="end" class="flowLabel" id="t2Ch2T1Info" font-size="9" fill="white" font-weight="700" opacity="0.8">T1:--</text>
                    </g>
                    <g class="flowNode" id="t2Channel3">
                      <rect x="750" y="220" width="140" height="80" rx="10" class="flowRack" id="t2Rect3"/>
                      <text x="758" y="245" text-anchor="start" class="flowLabel" id="t2Ch3Label" font-size="12" font-weight="700" fill="white">P#-T2-R#</text>
                      <text x="758" y="265" text-anchor="start" class="flowLabel" id="t2Ch3Jrp" font-size="11" font-weight="600" fill="white">JRP #-#</text>
                      <text x="882" y="248" text-anchor="end" class="flowLabel" id="t2Ch3T1Info" font-size="9" fill="white" font-weight="700" opacity="0.8">T1:--</text>
                    </g>
                    <g class="flowNode" id="t2Channel4">
                      <rect x="750" y="310" width="140" height="80" rx="10" class="flowRack" id="t2Rect4"/>
                      <text x="758" y="335" text-anchor="start" class="flowLabel" id="t2Ch4Label" font-size="12" font-weight="700" fill="white">P#-T2-R#</text>
                      <text x="758" y="355" text-anchor="start" class="flowLabel" id="t2Ch4Jrp" font-size="11" font-weight="600" fill="white">JRP #-#</text>
                      <text x="882" y="338" text-anchor="end" class="flowLabel" id="t2Ch4T1Info" font-size="9" fill="white" font-weight="700" opacity="0.8">T1:--</text>
                    </g>
                    
                    <g class="flowNode" id="t2Channel5">
                      <rect x="750" y="400" width="140" height="80" rx="10" class="flowRack" id="t2Rect5"/>
                      <text x="758" y="425" text-anchor="start" class="flowLabel" id="t2Ch5Label" font-size="12" font-weight="700" fill="white">P#-T2-R#</text>
                      <text x="758" y="445" text-anchor="start" class="flowLabel" id="t2Ch5Jrp" font-size="11" font-weight="600" fill="white">JRP #-#</text>
                      <text x="882" y="428" text-anchor="end" class="flowLabel" id="t2Ch5T1Info" font-size="9" fill="white" font-weight="700" opacity="0.8">T1:--</text>
                    </g>
                    <g class="flowNode" id="t2Channel6">
                      <rect x="750" y="490" width="140" height="80" rx="10" class="flowRack" id="t2Rect6"/>
                      <text x="758" y="515" text-anchor="start" class="flowLabel" id="t2Ch6Label" font-size="12" font-weight="700" fill="white">P#-T2-R#</text>
                      <text x="758" y="535" text-anchor="start" class="flowLabel" id="t2Ch6Jrp" font-size="11" font-weight="600" fill="white">JRP #-#</text>
                      <text x="882" y="518" text-anchor="end" class="flowLabel" id="t2Ch6T1Info" font-size="9" fill="white" font-weight="700" opacity="0.8">T1:--</text>
                    </g>
                    <g class="flowNode" id="t2Channel7">
                      <rect x="750" y="580" width="140" height="80" rx="10" class="flowRack" id="t2Rect7"/>
                      <text x="758" y="605" text-anchor="start" class="flowLabel" id="t2Ch7Label" font-size="12" font-weight="700" fill="white">P#-T2-R#</text>
                      <text x="758" y="625" text-anchor="start" class="flowLabel" id="t2Ch7Jrp" font-size="11" font-weight="600" fill="white">JRP #-#</text>
                      <text x="882" y="608" text-anchor="end" class="flowLabel" id="t2Ch7T1Info" font-size="9" fill="white" font-weight="700" opacity="0.8">T1:--</text>
                    </g>
                    <g class="flowNode" id="t2Channel8">
                      <rect x="750" y="670" width="140" height="80" rx="10" class="flowRack" id="t2Rect8"/>
                      <text x="758" y="695" text-anchor="start" class="flowLabel" id="t2Ch8Label" font-size="12" font-weight="700" fill="white">P#-T2-R#</text>
                      <text x="758" y="715" text-anchor="start" class="flowLabel" id="t2Ch8Jrp" font-size="11" font-weight="600" fill="white">JRP #-#</text>
                      <text x="882" y="698" text-anchor="end" class="flowLabel" id="t2Ch8T1Info" font-size="9" fill="white" font-weight="700" opacity="0.8">T1:--</text>
                    </g>
                  </g>
                  
                  <!-- Main flow paths (trunk cable section) -->
                  <path id="miniToNdfPath" class="flowPath inactive" d="M 260 120 Q 340 100 400 80 Q 440 80 460 80 L 470 80"/>
                </svg>
              </div>
            </div>
            <div id="t2Tab" class="tabPane glassMorphism">
        <div id="outT2" class="t2Hero" style="display:none;">
          <div class="title" id="t2Title">T2 Uplink <span id="t2Tick" class="tick">✓</span></div>
          <div class="row" style="margin-top:6px;">
            <div class="kv t2Emph"><b>Rack Unit</b><span class="value" id="t2RU"></span></div>
            <div class="kv t2Emph"><b>JRP</b><span class="value" id="t2JRP"></span></div>
            <div class="kv t2Emph"><b>Channel</b><span class="value" id="t2CH"></span></div>
            <div class="kv"><b>Plane</b><span class="value" id="t2Plane"></span></div>
          </div>
          <div class="actions" style="margin-top:12px;">
            <button class="secondary" id="copyT2">Copy T2 details</button>
          </div>
          <div class="sub" id="t2Sub"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="historyPanel" class="card" style="margin-top:16px;">
        <h1>Recent Lookups</h1>
        <p class="sub">Last 5 results. Click to re-run.</p>
        <div id="historyList" class="history"></div>
        <div class="actions" style="margin-top:12px;">
          <button class="secondary" id="clearHistory">Clear history</button>
        </div>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
    </body>
    </html>